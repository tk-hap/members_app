{% extends "base.xml" %}
{% load static %}
{% load duration_filters %}

{% block styles %}
{% include "exercise_class/styles.xml" %}
{% endblock %}

{% block header %}
<image style="appbar-icon-leading" source="{% static 'icons/arrow_back.png' %}" action="back" href="#"/>
<text style="appbar-headline">{{ class_details.class_name }}</text>
{% endblock %}

{% block content %}
<view>
    <list style="class-detail-list">
      <item style="item" key="date">
        <image style="item-icon" source="{% static 'icons/event.png' %}" />
        <text style="item-headline">{{ class_details.scheduled_date }}</text>
      </item>
      <item style="item" key="location">
        <image style="item-icon" source="{% static 'icons/schedule.png' %}" />
        <text style="item-headline">{{ class_details.duration|humanize_duration }}</text>
      </item>
      <item style="item" key="duration">
        <image style="item-icon" source="{% static 'icons/location.png' %}" />
        <text style="item-headline">{{ class_details.location }}</text>
      </item>
      <item style="item" key="trainer">
        <image style="item-icon" source="{% static 'icons/person.png' %}" />
        <text style="item-headline">{{ class_details.trainer }}</text>
      </item>
    </list>
</view>
<view style="container">
    <view scroll="true" content-container-style="scroll-view">
      <view>
        <text style="basic-font" preformatted="true">{{ class_details.description }}</text>
      </view>
    </view>
</view>
{% if status == "booked" %}
<view style="button-filled" href="{% url 'cancel-booking' class_details.id %}" verb="post" action="replace">
  <text style="button-filled-label">Cancel Booking</text>
</view>
{% elif status == "available" %}
<view style="button-filled" href="{% url 'book' class_details.id %}" verb="post" action="replace">
  <text style="button-filled-label">Book</text>
</view>
{% else %}
<view style="button-filled button-disabled">
  <text style="button-filled-label button-disabled-label">Unavailable</text>
</view>
{% endif %}
{% endblock %}